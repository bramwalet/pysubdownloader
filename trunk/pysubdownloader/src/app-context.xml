<?xml version="1.0" encoding="UTF-8"?>
<objects xmlns="http://www.springframework.org/springpython/schema/objects"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/springpython/schema/objects
       		http://springpython.webfactional.com/schema/context/spring-python-context-1.0.xsd">

	<!-- Inspector -->
	<object id="inspector" class="lib.Inspector.Inspector" scope="singleton">
	</object>
	
	<!-- Handlers -->
	<object id="urlHandler" class="handlers.url.UrlHandler" scope="singleton"/>
	<object id="fileHandler" class="handlers.file.FileHandler" scope="singleton"/>
	
	<!-- Parsers -->
	<object id="filenameParser" class="parsers.file.FilenameParser" scope="singleton"/>
	<object id="rssFeedParser" class="parsers.rss.RssFeedParser" scope="singleton">
		<constructor-arg name="filenameParser" ref="filenameParser"/>
	</object>
	
	
	<!-- HTML downloader component -->
	<object id="htmlDownloader" class="sites.components.download.http.HttpDownloadComponent" scope="singleton">
		<constructor-arg name="urlHandler" ref="urlHandler"/>
		<constructor-arg name="fileHandler" ref="fileHandler"/>		
	</object>
	
	<!-- XML search component -->
	<object id="xmlSearch" class="sites.components.search.xml.XmlSearchComponent" scope="singleton">
		<constructor-arg name="urlHandler" ref="urlHandler"/>
	</object>
	
	<!-- RSS search component -->
	<object id="rssSearch" class="sites.components.search.rss.RssSearchComponent" scope="singleton">
		<constructor-arg name="filenameParser" ref="filenameParser"/>
		<constructor-arg name="rssFeedParser" ref="rssFeedParser"/>
	</object>
		
	<!-- Podnapisi site -->
	<object id="podnapisisite" class="sites.PodnapisiSite.PodnapisiSite" scope="singleton">
		<constructor-arg name="downloadComponent" ref="htmlDownloader"/>
		<constructor-arg name="searchComponent" ref="xmlSearch"/>
	</object>
	
	<!-- TVSubtitle site -->
	<object id="tvsubtitlesite" class="sites.TvSubtitleSite.TvSubtitleSite" scope="singleton">
		<constructor-arg name="downloadComponent" ref="htmlDownloader"/>
		<constructor-arg name="searchComponent" ref="rssSearch"/>
	</object>

	

</objects>
