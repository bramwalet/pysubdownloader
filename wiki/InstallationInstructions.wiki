#summary Installation instructions for PySubDownloader
#labels Featured,Phase-Deploy

= Introduction =

On this page, I'll explain how to setup your Python libraries in order to use this script. 


= Requirements =

This script is designed to work on every OS. I have tested it so far on Windows, but I'm planning on using it on my Synology DS207+ NAS with optware installed. So this script should work on every platform that has a Python interpreter and all required libraries.
 
 # Fist of all, you need Python 2.5, which you can download on the [http://python.org/download/releases/2.5.4/ Python official site] or install using your package manager.
 # When Python is installed, you have to install some required libraries:

  * [http://xmlsoft.org/downloads.html libxml2] and [http://xmlsoft.org/XSLT/downloads.html libxslt] are required for lxml (see installation instructions below).
  * [http://codespeak.net/lxml/installation.html lxml] is required to parse HTML documents
   Install setuptools and run {{{easy_install lxml}}}.  
  * [http://www.feedparser.org/ Universal Feed Parser] is required to parse RSS feeds.
  * [http://www.springsource.org/extensions/se-springpython-py Spring Python] is required as the application uses Spring Python internally to create objects.

= Installation =

== Linux ==
Use your favorite package manager to install: libxml2, libxslt, python2.5.
Make sure you have gcc installed.

I have tested these instructions on my DiskStation NAS with optware installed. I use the following package feed:

Install these packages in the following order: 
 # python2.5: Self-explanatory
 # py25-setuptools: This will install easy_install, required for installing lxml
 # libxml2, libxsl: These packages are required for lxml
 # py25-lxml: Bindings for libxml2 and libxslt with python2.5. If you don't install this package, lxml will not build.
 # easy_install lxml: This will install lxml, required for processing HTML pages.
 # py25-feedparser: This will install the universal feed parser for processing RSS feeds.
 # download Spring python from the link above or install using easy_install springpython

When you're done, you're ready to use pysubdownloader.

== Windows ==
Install the binary versions in this order: 
 # python2.5, see python.org
 # [http://xmlsoft.org/sources/win32/python/libxml2-python-2.7.3.win32-py2.5.exe libxml2],
 # [http://pypi.python.org/packages/2.5/s/setuptools/setuptools-0.6c9.win32-py2.5.exe#md5=602d06054ec1165e995ae54ac30884d7 setuptools],
 # lxml (run {{{easy_install lxml}}} from the Scripts folder in your Python installation dir), 
 # use {{{easy_install feedparser}}} or download source of Universal Feed Parser and run {{{setup.py install}}}
 # download Spring python from the link above or install using easy_install springpython

When you're done, you're ready to use pysubdownloader.

= Configuration =

In order to use the site Bierdopje, you have to obtain an API key. 
When obtained, place the API key in the app-config.yml file.

{{{
    - object: bierdopjeApi
      class: sites.components.search.api.bierdopje.BierdopjeAPI
      scope: singleton
      properties:
        urlHandler: {ref: urlHandler}
      constructor-args:
        apiurl: http://api.bierdopje.com/
        # Place your own API key:
        apikey: <INSERT KEY>
}}}

To enable or disable certain sites, modify app-config.yml:

{{{
    - object: enabledsites
      list:
        - podnapisi
        - tvsubtitles
        - bierdopje
}}}

The order of these sites can be changed, this will be reflected in the run of the sites.
When a site is commented out (using #) it will not be searched.

The script will search only for newly added files, based on the last modification date. A specified number of days must be between the last modification date and the system time. This parameter can be edited in the configuration files:

{{{
    - object: maxdays
      int: 10
}}}

The default is 10, so when a subtitle isn't found for 10 days after the last modification date, the episode will be skipped.